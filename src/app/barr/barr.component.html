<div class="loading" *ngIf="showLoader">
  <span id="loader" class="loader"></span>
</div>
<nav *ngIf="!showLoader" >
  <a href="#home" id="logo"></a>
  <input type="checkbox" id="hamburger" />
  <label for="hamburger">
    <i class="fa-solid fa-bars"></i>
  </label>
  <ul>
    <li>
      <a  routerLink="/accueil"class="active"><i class="far fa-address-book"></i> &nbsp;Personnels &nbsp; </a>
    </li>
    <li>
      <a routerLink="/av"><i class="far fa-chart-bar"></i> &nbsp; Avancements des Echelons &nbsp;</a>
    </li>
    <li>
      <a routerLink="/historiques"><i class="far fa-clone"></i> &nbsp;Historiques&nbsp; </a>
    </li>
    <li>
      <a routerLink="/tableauAv"><i class="fa-solid fa-list"></i> &nbsp;Tabeau d'avancements &nbsp; </a>
    </li>
    <li>
      <a href="#services"><i class="fa-solid fa-right-from-bracket"></i> &nbsp;Déconnexion </a>
    </li>
  </ul>
</nav>
<form *ngIf="!showLoader">
  <table>
    <tr>
      <th id="colonneMle">Mle</th>
      <th>Nom Prénom</th>
      <th id="colonneMle2">Catégorie</th>
      <th id="colonneMle2">Sous Catégorie</th>
      <th id="colonneMle2">Echelon</th>
      <th>Date d'effet</th>
      <th>Date de P.Av</th>
      <th>Sanctions</th>
      <th id="colonneMle3">Note</th>
      <th>Observation</th>
    </tr>
    <tr *ngFor="let avancement of serviceAvancement.selectedAvancements; let i = index">
      <td><input type="text" [(ngModel)]="avancement.tpersonnel.mle" name="mle-{{i}}"></td>
      <td><input type="text" [(ngModel)]="avancement.nom" name="name-{{i}}"></td>
      <td><input type="text" [(ngModel)]="avancement.cat" name="cat-{{i}}"></td>
      <td><input type="text" [disabled]="avancement.scat === null" [(ngModel)]="avancement.scat" name="scat-{{i}}"></td>   
      <td><input type="text" [(ngModel)]="avancement.ech" name="ech-{{i}}"></td>
      <td><input type="date" [value]="formatDate(avancement.dEffet)" (input)="updateDate(avancement, 'dEffet', $event)" name="dEffet-{{i}}"></td>
      <td><input type="date" [value]="formatDate(avancement.dpav)" (input)="updateDate(avancement, 'dpav', $event)" name="dpav-{{i}}"></td>
      <td style="display: flex; align-items: center;">
                          <span class="icon-green" *ngIf="lengthSanctionsPersonnel === 0 ">
                            <i class="fas fa-check-circle fa-lg" style="color: green;"></i>
                          </span>
                          <span class="icon-red" *ngIf="lengthSanctionsPersonnel !== 0">
                            <i class="fas fa-exclamation-circle fa-lg" style="color: red;"></i>
                          </span>
                          <input type="text" name="sanctions1-{{i}}" style="margin-left: 8px;">   
                          <input type="text" name="sanctions2-{{i}}" style="margin-left: 8px;">     
      </td>
      
 
      <td><input type="text" [(ngModel)]="avancement.note" name="note-{{i}}"></td>
      <td><input type="text" [(ngModel)]="avancement.observation" name="observation-{{i}}"></td>
    </tr>
  </table>
  <button type="button" class="btn btn-outline-success" id="btnok" (click)="sauvgarde()">Enregistrer</button>
  <button type="button" class="btn btn-outline-danger" id="btncancel" (click)="annulation()">Annuller</button>
</form>
